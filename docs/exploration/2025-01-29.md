# 2025-01-29: Branch Continuity Issue and Fix

## Initial Discovery
The branches were discontinuous - they didn't connect to the trunk visually. This was caused by the branch extraction logic assigning each node to only one branch. When multiple branches forked from shared trunk segments, only the first branch included those segments.

## The Fix
Modified `BranchNetwork.to_geometry()` to trace complete paths from each leaf to root, creating continuous polylines. This means:
- Each branch is now a complete, continuous line from root to tip
- Shared trunk nodes appear in multiple branch polylines
- Trunk segments are drawn multiple times (once per overlapping branch)

## Happy Accident
The overlapping trunk drawing creates a natural line weight effect - trunks appear darker/thicker because multiple strokes overlay. This mimics natural branching where main trunks are thicker. We can control this effect by:
- Using transparent strokes (darker where overlapping)
- Or extracting unique trunk segments separately for explicit thickness control

## Status
**Fixed** - branches are now continuous and working correctly.

## Open Questions for Later
- Do we want a separate representation for trunk/branch hierarchy?
- Should we have explicit stroke width variation?
- How does this affect composition with other patterns?
